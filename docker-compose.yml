services:
  ocr:
    build: .
    image: python-advanced-ocr:latest
    volumes:
      - ./images:/images
      - ./output:/output
    command: --help

  # Single image processing
  ocr-single:
    image: python-advanced-ocr:latest
    volumes:
      - ./images:/images
    command: --engine paddleocr --input /images/sample.jpg

  # Batch processing
  ocr-batch:
    image: python-advanced-ocr:latest
    volumes:
      - ./images:/images
      - ./output:/output
    command: --engine paddleocr --input-dir /images --output-dir /output

  # Batch processing with custom input directory
  # Usage: INPUT_DIR=~/Downloads docker compose run --rm ocr-batch-custom --engine paddleocr
  ocr-batch-custom:
    image: python-advanced-ocr:latest
    volumes:
      - ${INPUT_DIR:-./images}:/input
      - ${OUTPUT_DIR:-./output}:/output
    command: --engine paddleocr --input-dir /input --output-dir /output
